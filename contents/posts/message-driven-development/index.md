---
title: "메시지 지향 프로그래밍"
description: "이벤트와 메시지의 차이는 무엇일까"
date: 2023-07-22
update: 2023-07-22
tags:
  - oop
---

## Message Oriented Programming

MOP: Message Oriented Programming

다양한 컴포넌트나 모듈이 서로 메시지를 주고받아 상호 작용하는 프로그래밍 패러다임.
컴포넌트 간의 결합도를 낮추고 모듈화를 촉진하여 더 유연하고 확장 가능한 소프트웨어를 구축할 수 있다.

메시지 기반 또는 주도 프로그래밍이란 용어보다는 메시지 지향 프로그래밍이라는 용어를 더 많이 사용하는 듯 하다.

객체가 서로를 직접 호출하지 않고 메시지 버스를 통해 통신해야 한다는 특징을 가지고 있다.

## 주요 특징 및 개념

1. 메시지
   * 컴포넌트 간의 통신은 메시지를 통해 이루어진다.
   * 메시지는 sender가 보낸 메시지를 이벤트 버스를 통해 구독 중인 receiver로 전달된다.
2. 비동기 통신
   * 메시지 지향 프로그래밍은 비동기 통신이 일반적이다.
   * sender가 즉시 결과를 기다리지 않고 작업을 계속할 수 있도록 한다.
   * receiver는 메시지를 받아 작업을 처리하고 응답을 보낼 수 있다.
3. 이벤트 주도
   * 메시지는 이벤트를 트리거하거나 처리하는 데 사용된다.
4. 모듈화와 결합도 감소
   * 각 컴포넌트가 독립적으로 작동하며, 메시지를 통해 상호 작용하므로 모듈화가 용이하다.
5. 분산 시스템
   * 분산 시스템에서 유용하게 활용된다.
   * 여러 컴포넌트나 서버가 네트워크를 통해 메시지를 주고받아 작업을 처리하고 결과를 공유할 수 있다.

## 장점

1. 발신자와 응답자 사이의 결합 제거
   * 객체가 서로를 직접 참조하지 않기 때문에 Code Refactoring 하는 경우에 작업이 원활하다.
2. 종속성 즉시 변경
   * 객체는 상황에 따라 메시지 구독하거나 취소할 수 있기 때문에 동작을 동적으로 변경할 수 있다.
3. 여러 구독자에게 발송
   * 여러 객체가 동일한 유형의 메시지를 동시에 수신 대기할 수 있다. 시스템의 여러 부분을 업데이트 해야하는 이벤트가 발생할 때 개별적으로 알리지 않아도 된다.

## 단점

1. 메모리 및 처리 오버헤드
   * 메시지 전송에는 메시지 내 전달되는 데이터의 크기에 따라 메모리 및 처리 비용이 수반된다.
   * 메시지 통신하는 객체는 캡슐화된 상태를 공유해서는 안되기 때문에 메시지 데이터가 구독 객체에 의해 수정될 경우 데이터를 복사해서 사용해야 한다.
2. 과도한 메시지 유형의 증가
   * 객체는 여러 가지 방법으로 서로 통신하기 때문에 필요한 메시지 유형의 수가 과도하게 증가할 수 있다.
   * 구현 방법에 관계없이 메시지 유형의 수가 많아질 수 있기 때문에 신중한 관리가 필요하다.
3. 흐름을 추론하기 어려움
   * 동적 특성으로 인해 정확한 흐름을 파악하는 것이 어려울 수 있다.
   * 그로 인해 디버깅 또한 까다로워진다.

## 이벤트 주도 프로그래밍과의 차이

이벤트 주도 프로그래밍은 주로 이벤트를 중심으로 동작하며, 이벤트가 발생할 때 특정 동작을 수행한다. 이에 반해 메시지 지향 프로그래밍은 메시지를 주고받아 컴포넌트 간의 상호 작용을 관리하고 모듈화하는 데 중점을 둔다. 이벤트 주도 프로그래밍은 주로 사용자 입력이나 시스템 상태 변화에 응답하는 데 사용되고, 메시지 지향 프로그래밍은 컴포넌트 간의 통신과 모듈화에 사용된다.

## Actor Model (행위자 모델)

Actor Model은 Actor를 병행 연산(Concurrent Computing)의 범용적 기본 단위로 삼는 모델이다.

Actor Model에서 Actor들은 메시지를 주고 받을 뿐이므로, 연산 단위들간의 가변 상태 공유를 허용하는 병행 모델들의 고질적인 문제점인 교착 상태(Deadlock), 경쟁 상태(Race condition) 등의 발생 가능성이 낮다.
